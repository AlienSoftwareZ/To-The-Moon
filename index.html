<!DOCTYPE html>
<html lang="th">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏±‡πâ‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ï 10% ‡∏£‡∏≤‡∏¢‡∏ß‡∏±‡∏ô</title>
   <style>
       body { font-family: sans-serif; background: #f0f2f5; padding: 15px; margin: 0; }
       .container { max-width: 650px; margin: auto; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
       h2 { text-align: center; color: #333; margin-top: 0; }
       .input-group { margin-bottom: 15px; }
       
       /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πà‡∏° */
       input[type="number"] { width: 100%; padding: 12px; margin-top: 5px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; font-size: 16px; }
       
       /* --- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î Layout ‡∏õ‡∏∏‡πà‡∏° --- */
       .button-group {
           display: flex; /* ‡πÉ‡∏ä‡πâ Flexbox ‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î‡∏ß‡∏≤‡∏á */
           gap: 10px; /* ‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏° */
           margin-top: 20px;
       }
       button {
           flex-grow: 1; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡πÄ‡∏ó‡πà‡∏≤‡πÜ ‡∏Å‡∏±‡∏ô */
           padding: 12px;
           color: white;
           border: none;
           border-radius: 8px;
           font-size: 16px;
           cursor: pointer;
           font-weight: bold;
       }
       
       /* ‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
       #startBtn { 
           background: #28a745; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡∏´‡∏•‡∏±‡∏Å */
           width: 100%; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏õ‡∏∏‡πà‡∏°‡∏Ç‡∏¢‡∏≤‡∏¢‡πÄ‡∏ï‡πá‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á */
           margin-top: 15px; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏î‡πâ‡∏≤‡∏ô‡∏ö‡∏ô */
       } 
       #startBtn:hover { 
           background: #218838; /* ‡∏™‡∏µ‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß‡πÄ‡∏Ç‡πâ‡∏°‡∏Ç‡∏∂‡πâ‡∏ô‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏°‡∏≤‡∏™‡πå‡∏ä‡∏µ‡πâ */
       }
       
       /* ‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏• (‡πÉ‡∏ô dailyLog) */
       #recordDayBtn { background: #28a745; }
       #recordDayBtn:hover { background: #218838; }
       
       /* ‡∏õ‡∏∏‡πà‡∏°‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• */
       #resetBtn { background: #dc3545; }
       #resetBtn:hover { background: #c82333; }
       /* -------------------------- */

       /* --- ‡∏Å‡∏≤‡∏£‡∏à‡∏±‡∏î Layout ‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡πÉ‡∏´‡πâ‡∏°‡∏µ‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á --- */
       table {
           width: 100%;
           border-collapse: collapse;
           margin-top: 20px;
           font-size: 14px;
           table-layout: fixed; /* ‡∏ó‡∏≥‡πÉ‡∏´‡πâ‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ñ‡∏á‡∏ó‡∏µ‡πà */
       }
       th, td {
           border: 1px solid #ccc; /* ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏™‡πâ‡∏ô‡∏Ç‡∏≠‡∏ö‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
           border-collapse: collapse;
           padding: 10px 5px;
           text-align: center; /* ‡∏à‡∏±‡∏î‡∏Å‡∏∂‡πà‡∏á‡∏Å‡∏•‡∏≤‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç‡πÉ‡∏ô‡∏ï‡∏≤‡∏£‡∏≤‡∏á */
           overflow: hidden;
           word-wrap: break-word;
       }
       th { background: #333; color: white; text-align: center; }

       /* ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏Ñ‡∏ß‡∏≤‡∏°‡∏Å‡∏ß‡πâ‡∏≤‡∏á‡∏Ñ‡∏≠‡∏•‡∏±‡∏°‡∏ô‡πå */
       th:nth-child(1), td:nth-child(1) { width: 10%; } /* ‡∏ß‡∏±‡∏ô */
       th:nth-child(2), td:nth-child(2) { width: 30%; } /* ‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô */
       th:nth-child(3), td:nth-child(3) { width: 30%; } /* ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏ö‡∏ß‡∏±‡∏ô */
       th:nth-child(4), td:nth-child(4) { width: 30%; } /* ‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏à‡∏£‡∏¥‡∏á */
       
       .target-text { color: #007bff; font-weight: bold; }
       .actual-win { color: #28a745; font-weight: bold; }
       .actual-loss { color: #dc3545; font-weight: bold; }
       
       .day-info {
           background: #e9f7ef;
           border-left: 5px solid #28a745;
           padding: 15px;
           border-radius: 5px;
           margin-bottom: 15px;
           font-size: 15px;
       }
   </style>
</head>
<body onload="loadLog()">

<div class="container">
   <h2>üìù ‡∏™‡∏°‡∏∏‡∏î‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏õ‡∏±‡πâ‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ï 10%</h2>

   <div id="setupForm">
       <div class="input-group">
           <label for="initialCapital">‡∏Å‡∏£‡∏≠‡∏Å‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å üí∞</label>
           <input type="number" id="initialCapital" placeholder="‡πÄ‡∏ä‡πà‡∏ô 1000.00">
       </div>
       <button id="startBtn" onclick="startNewLog()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏û‡∏≠‡∏£‡πå‡∏ï‡πÉ‡∏´‡∏°‡πà</button>
   </div>

   <div id="dailyLog" style="display: none;">
       <div id="currentDayInput">
           </div>
       
       <div class="button-group">
           <button id="recordDayBtn" onclick="recordDay()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•</button>
           <button id="resetBtn" onclick="resetLog()">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•/‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÉ‡∏´‡∏°‡πà</button>
       </div>

       <table>
           <thead>
               <tr>
                   <th>‡∏ß‡∏±‡∏ô</th>
                   <th>‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô</th>
                   <th>‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏à‡∏ö‡∏ß‡∏±‡∏ô</th>
                   <th>‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏à‡∏£‡∏¥‡∏á</th>
               </tr>
           </thead>
           <tbody id="logTableBody">
               </tbody>
       </table>
   </div>
</div>

<script>
   const STORAGE_KEY = 'dailyCompoundingLog_10percent_V2';

   // ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏à‡∏±‡∏î‡∏£‡∏π‡∏õ‡πÅ‡∏ö‡∏ö‡∏ï‡∏±‡∏ß‡πÄ‡∏•‡∏Ç (‡πÉ‡∏™‡πà‡∏•‡∏π‡∏Å‡∏ô‡πâ‡∏≥)
   function fmt(n) { return n.toLocaleString('th-TH', {minimumFractionDigits:2, maximumFractionDigits:2}); }
   
   // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≤‡∏Å Local Storage
   function loadLog() {
       const data = localStorage.getItem(STORAGE_KEY);
       const logData = data ? JSON.parse(data) : { entries: [], currentCapital: 0 };
       renderLog(logData);
       return logData;
   }

   // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á Local Storage
   function saveLog(logData) {
       localStorage.setItem(STORAGE_KEY, JSON.stringify(logData));
       renderLog(logData);
   }
   
   // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÉ‡∏´‡∏°‡πà
   function startNewLog() {
       const initialCap = parseFloat(document.getElementById('initialCapital').value);
       if (isNaN(initialCap) || initialCap <= 0) {
           alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ó‡∏∏‡∏ô‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
           return;
       }
       
       const logData = {
           entries: [],
           currentCapital: initialCap
       };
       saveLog(logData);
   }
   
   // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏Ç‡∏≠‡∏á‡∏ß‡∏±‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
   function recordDay() {
       const inputElement = document.getElementById('endCapitalInput');
       const endCapital = parseFloat(inputElement.value);
       const logData = loadLog();
       
       if (isNaN(endCapital) || endCapital < 0) {
           alert("‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÉ‡∏™‡πà‡∏ú‡∏•‡∏•‡∏±‡∏û‡∏ò‡πå‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á");
           return;
       }

       const dayNumber = logData.entries.length + 1;
       const startCap = logData.currentCapital;
       const targetProfit = startCap * 0.10;
       const targetTotal = startCap + targetProfit;
       const actualProfit = endCapital - startCap;

       logData.entries.push({
           day: dayNumber,
           startCap: startCap,
           targetProfit: targetProfit,
           targetTotal: targetTotal,
           endCap: endCapital,
           actualProfit: actualProfit
       });

       logData.currentCapital = endCapital;
       
       saveLog(logData);
       inputElement.value = '';
   }

   // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
   function resetLog() {
       if (confirm("‡∏Ñ‡∏∏‡∏ì‡πÅ‡∏ô‡πà‡πÉ‡∏à‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÅ‡∏•‡∏∞‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡πÉ‡∏´‡∏°‡πà? ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ‡∏à‡∏∞‡∏´‡∏≤‡∏¢‡πÑ‡∏õ")) {
           localStorage.removeItem(STORAGE_KEY);
           location.reload();
       }
   }

   // ‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•‡∏ö‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
   function renderLog(logData) {
       const setupForm = document.getElementById('setupForm');
       const dailyLogDiv = document.getElementById('dailyLog');
       const logTableBody = document.getElementById('logTableBody');
       const currentDayInput = document.getElementById('currentDayInput');
       
       logTableBody.innerHTML = "";
       currentDayInput.innerHTML = "";

       if (logData.entries.length === 0 && logData.currentCapital === 0) {
           setupForm.style.display = 'block';
           dailyLogDiv.style.display = 'none';
       } else {
           setupForm.style.display = 'none';
           dailyLogDiv.style.display = 'block';

           const nextDay = logData.entries.length + 1;
           const startCap = logData.currentCapital;
           const targetProfit = startCap * 0.10;
           const targetTotal = startCap + targetProfit;
           
           // 1. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ï‡∏≤‡∏£‡∏≤‡∏á‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•
           logData.entries.forEach(entry => {
               const targetColor = entry.actualProfit >= entry.targetProfit ? 'actual-win' : 'actual-loss';
               
               logTableBody.innerHTML += `
                   <tr>
                       <td>${entry.day}</td>
                       <td>${fmt(entry.startCap)}</td>
                       <td class="target-text">${fmt(entry.targetTotal)}</td>
                       <td class="${targetColor}">${fmt(entry.endCap)} (${entry.actualProfit >= 0 ? '+' : ''}${fmt(entry.actualProfit)})</td>
                   </tr>
               `;
           });

           // 2. ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ä‡πà‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏ñ‡∏±‡∏î‡πÑ‡∏õ
           currentDayInput.innerHTML = `
               <div class="day-info">
                   ‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${nextDay} <br>
                   ‡∏ó‡∏∏‡∏ô‡∏ï‡∏±‡πâ‡∏á‡∏ï‡πâ‡∏ô‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ : ${fmt(startCap)} ‡∏ö‡∏≤‡∏ó<br>
                   ‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏à‡∏ö‡∏ß‡∏±‡∏ô : <span class="target-text">${fmt(targetTotal)}</span> ‡∏ö‡∏≤‡∏ó
               </div
               <label for="endCapitalInput">‡∏Å‡∏£‡∏≠‡∏Å‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡πÄ‡∏á‡∏¥‡∏ô‡πÉ‡∏ô‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡∏à‡∏£‡∏¥‡∏á‡∏ß‡∏±‡∏ô‡∏ô‡∏µ‡πâ üí∏</label>
               <input type="number" id="endCapitalInput" placeholder="‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏ï‡πâ‡∏≠‡∏á‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤ ${fmt(startCap)})">
           `;
           
           // ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ö‡∏ô‡∏õ‡∏∏‡πà‡∏°‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏ß‡∏±‡∏ô‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
           document.getElementById('recordDayBtn').innerText = `‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ú‡∏•‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà ${nextDay}`;
       }
   }
</script>

</body>
</html>
